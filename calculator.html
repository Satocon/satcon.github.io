<!DOCTYPE html>
<html>
  <head>
    <title>桃鉄 ❘ 資産計算電卓</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <style>
    body{
        width:80vw;
        display:grid;
        grid-template-columns: 1fr 1fr 1fr 1fr 1fr;
        column-width: max(20vw);
        font-size: 2em;
        gap:1em;
        text-align: center;
        /*place-items: center;←ダメだった*/
        }
    div{background-color:white;
    }
    input{
        width:max(15vw,100px);
        font-size: 3em;
        border: solid gray 10px;
    }
    .font_red{/*引き算の入力欄*/
        color:red;
        border: solid #8c5454 10px;
    }
    input.vertical{/*計算するボタン*/
        margin-top: 1em;
        font-size:1em;
        height:2em;
        border:solid gray 2px;
    }
    .bg_darkblue{
        background-color:#2c3248;
        color:white;
        font-size: 3em;
    }
    .bg_darkred{
        background-color:darkred;
        color:white;
        font-size: 3em;
    }
    .bg_gray{
        background-color: #aaa;
        color:black;
        border:solid gray 2px;
        padding-top: 1em;
    }
    .blue{
        background-color: blue;
        color:white;
        width:2em;
        padding-top: 0.5em;
    }.red{
        background-color: red;
        color:white;
        width:2em;
        padding-top: 0.5em;
    }
    .yellow{
        background-color: yellow;
        width:2em;
        padding-top: 0.5em;
    }
    .green{
        background-color: green;
        width:2em;
        color:white;
        padding-top: 0.5em;
    }
    
    </style>
  </head>
  <body>
    <div></div><div class="bg_darkblue">＋</div><div class="bg_darkred">－</div><div></div><div class="bg_gray">総資産</div>
    <div class="blue">青<br>番</div><div><input type="number" id="blue_add"></div><div><input type="number" id="blue_substract" class="font_red"></div><div id="calculate"><input type="button" value="計算する" onclick="calculation(this)" class="vertical" id="blue"></div><div><input type="number" id="blue_total"></div>
    <div class="red">赤<br>番</div><div><input type="number" id="red_add"></div><div><input type="number" id="red_substract" class="font_red"></div><div id="calculate"><input type="button" value="計算する" onclick="calculation(this)" class="vertical" id="red"></div><div><input type="number" id="red_total"></div>
    <div class="yellow">黄<br>番</div><div><input type="number" id="yellow_add"></div><div><input type="number" id="yellow_substract" class="font_red"></div><div id="calculate"><input type="button" value="計算する" onclick="calculation(this)" class="vertical" id="yellow"></div><div><input type="number" id="yellow_total"></div>
    <div class="green">緑<br>番</div><div><input type="number" id="green_add"></div><div><input type="number" id="green_substract" class="font_red"></div><div id="calculate"><input type="button" value="計算する" onclick="calculation(this)" class="vertical" id="green"></div><div><input type="number" id="green_total"></div>


    <script>

        function calculation(event){

            let color = event.id;
            console.log(color);


            let color_add_cell = document.getElementById(color + "_add");
            let color_add_value = color_add_cell.value;
            console.log(color_add_value);

            let color_substract_cell = document.getElementById(color + "_substract");
            let color_substract_value = color_substract_cell.value;
            console.log(color_substract_value);

            let color_total_cell = document.getElementById(color + "_total");
            let color_total_value = color_total_cell.value;  
            console.log(Number(color_total_value));
            
            
            let color_total_new_value = Number(color_total_value) + Number(color_add_value) - Number(color_substract_value);
            console.log(color_total_new_value);

            if(color_total_new_value < 0){
                color_total_cell.style.color = "red";
            }else{color_total_cell.style.color = "black";}
            

            color_total_cell.value = color_total_new_value;

            
        
            clearValue();

            function clearValue(){
            let color_add_cell_2 = document.getElementById(color + "_add");
            color_add_cell_2.value="";
            let color_substract_cell_2 = document.getElementById(color + "_substract");
            color_substract_cell_2.value="";
            console.log(color_add_cell_2);
        }
        }

        
        
    </script>

  </body>
</html>